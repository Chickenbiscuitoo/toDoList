(()=>{"use strict";function e(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function t(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function n(e){t(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):("string"!=typeof e&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function a(e){t(1,arguments);var a=n(e);return a.setHours(0,0,0,0),a}var s=864e5;function i(n,i){t(2,arguments);var o=a(n),d=a(i),c=o.getTime()-e(o),l=d.getTime()-e(d);return Math.round((c-l)/s)}class o{constructor(e,t,n){this.title=e,this.dueDate=t,this.projectName=n}}class d{static displayTodayPage(){const e=document.getElementById("main-content");e.innerHTML="";const t=document.createElement("div");t.id="project-name",t.innerText="Today";const n=document.createElement("div");n.id="task-list",e.appendChild(t),e.appendChild(n)}static displayTodayTasks(){c.getTodayTasks().forEach((e=>{d.addTaskToList(e)}))}static displayWeekPage(){const e=document.getElementById("main-content");e.innerHTML="";const t=document.createElement("div");t.id="project-name",t.innerText="This Week";const n=document.createElement("div");n.id="task-list",e.appendChild(t),e.appendChild(n)}static displayWeekTasks(){c.getTodayTasks().forEach((e=>{d.addTaskToList(e)}))}static displayProjectPage(e){const t=document.getElementById("main-content");t.innerHTML="";const n=document.createElement("div");n.id="project-name",n.innerText=`${e}`;const a=document.createElement("div");a.id="task-list";const s=document.createElement("button");s.id="btn-addtask",s.className="btn-basic",s.innerText="+ Add task";const i=document.createElement("div");i.className="popup-hidden",i.innerHTML='\n            <div class="div-inputs"> \n                <input type="text" id="input-title" placeholder="Task Name">\n                <input type="date" id="input-duedate">\n            </div>\n            <div class="div-submit-btn">\n                <button id="btn-submit-form" class="btn-submit">Submit</button>\n            </div>\n        ',t.appendChild(n),t.appendChild(a),t.appendChild(s),t.appendChild(i)}static displayProjects(){c.getProjects().forEach((e=>{d.addProjectToList(e)}))}static displayTasks(e){c.getTasks().forEach((t=>{t.projectName==e&&d.addTaskToList(t)}))}static addTaskToList(e){const t=document.getElementById("task-list"),n=document.createElement("div");n.classList="task";const a=document.createElement("div");a.classList="task-summary";const s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("name",`${e.title}`),s.classList="task-checkbox";const i=document.createElement("label");i.setAttribute("for",`${e.title}`);const o=document.createElement("div");o.classList="task-date";const d=document.createElement("button");d.classList="btn-delete-task",t.appendChild(n),n.appendChild(a),a.appendChild(s),a.appendChild(i),a.appendChild(o),a.appendChild(d),i.innerHTML=`<p>${e.title}</p>`,o.innerHTML=`<p>${e.dueDate}</p>`,d.innerText="✖"}static addProjectToList(e){const t=document.getElementById("menu-projects"),n=document.createElement("div"),a=document.createElement("button");n.innerHTML=`<button class="btn-projects btn-basic">${e}</button>`,n.classList="div-project",a.classList="btn-del-project",a.innerText="✖",t.appendChild(n),n.appendChild(a)}static deleteTask(e){e.classList.contains("btn-delete-task")&&e.parentElement.parentElement.remove()}static deleteProject(e){e.classList.contains("btn-del-project")&&e.parentElement.remove()}static doPopup(e){e.classList.contains("popup-hidden")?e.classList.replace("popup-hidden","popup-visible"):e.classList.contains("popup-visible")&&e.classList.replace("popup-visible","popup-hidden")}static doClearForm(){document.getElementById("input-projectname").value="",null===!document.getElementById("input-title").value&&null===!document.getElementById("input-duedate").value&&(document.getElementById("input-title").value="",document.getElementById("input-duedate").value="")}}class c{static getTasks(){let e;return e=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),e}static addTask(e){const t=c.getTasks();t.push(e),localStorage.setItem("tasks",JSON.stringify(t))}static removeTask(e){const t=c.getTasks();t.forEach(((n,a)=>{n.title===e&&t.splice(a,1)})),localStorage.setItem("tasks",JSON.stringify(t))}static getProjects(){let e;return e=null===localStorage.getItem("projects")?[]:JSON.parse(localStorage.getItem("projects")),e}static addProject(e){const t=c.getProjects();t.push(e),localStorage.setItem("projects",JSON.stringify(t))}static removeProject(e){const t=c.getProjects(),n=c.getTasks();t.forEach(((n,a)=>{n===e&&t.splice(a,1)})),n.forEach((t=>{t.projectName===e&&c.removeTask(t.title)})),localStorage.setItem("projects",JSON.stringify(t))}static getTodayTasks(){const e=c.getTasks();let t=[],n=new Date;return e.forEach((e=>{i(new Date(e.dueDate),n)<2&&t.push(e)})),t}static getWeekTasks(){const e=c.getTasks();let t=[],n=new Date;return e.forEach((e=>{i(new Date(e.dueDate),n)<8&&t.push(e)})),t}}d.displayProjects(),document.getElementById("btn-addproject").addEventListener("click",(e=>{d.doPopup(e.target.parentElement.nextElementSibling)})),document.getElementById("btn-submit-project").addEventListener("click",(e=>{if(""==!document.getElementById("input-projectname").value){let t=document.getElementById("input-projectname").value;d.addProjectToList(t),c.addProject(t),d.doPopup(e.target.parentElement.parentElement),d.doClearForm()}})),document.getElementById("menu-projects").addEventListener("click",(e=>{e.target.classList.contains("btn-projects")?(d.displayProjectPage(e.target.innerText),d.displayTasks(e.target.innerText)):e.target.classList.contains("btn-del-project")&&(c.removeProject(e.target.previousElementSibling.innerText),d.deleteProject(e.target))}));const l=document.getElementById("main-content");l.addEventListener("click",(e=>{if("btn-addtask"===e.target.id)d.doPopup(e.target.nextElementSibling);else if("btn-submit-form"===e.target.id){if(""==!document.getElementById("input-title").value&&""==!document.getElementById("input-duedate").value){let t=document.getElementById("input-title").value,n=document.getElementById("input-duedate").value;const a=new o(t,n,l.firstElementChild.textContent);d.addTaskToList(a),c.addTask(a),d.doClearForm(),d.doPopup(e.target)}}else e.target.classList.contains("btn-delete-task")&&(d.deleteTask(e.target),c.removeTask(e.target.previousElementSibling.previousElementSibling.textContent))})),document.getElementById("btn-today").addEventListener("click",(()=>{d.displayTodayPage(),d.displayTodayTasks()})),document.getElementById("btn-week").addEventListener("click",(()=>{d.displayWeekPage(),d.displayWeekTasks()}))})();